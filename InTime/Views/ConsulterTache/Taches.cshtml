
@model InTime.Models.Tache

@{
    ViewBag.Title = "Taches";
}

<div>
    @{
        if (ViewBag.Message == "Reussi")
        {
            <h2><font color="green">Votre tâche a été supprimée.</font></h2>
        }

        if (TempData["Modification"] == "Modif")
        {
            <h2><font color="green">Votre tâche a été modifiée.</font></h2>
        }
        else
        {
            if (TempData["Modification"] == "Erreur")
            {
                <h2><font color="red">Une erreur s'est produite. Vos modifications sont invalides.</font></h2>
            }
        }
    }
</div>

<h2>Voici vos tâches</h2>


<table class="table table-striped">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.NomTache)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Lieu)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Jour)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Mois)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Annee)
        </th>
        <th>
            
        </th>
        <th>
            
        </th>
        <th></th>
    </tr>

    @foreach (InTime.Models.Tache item in ViewBag.Taches)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.NomTache)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Lieu)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Jour)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Mois)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Annee)
            </td>
            <td>
                @Html.ActionLink("Détails", "Index", new { id = item.IdTache }) 
            </td>
            <td>
                @Html.ActionLink("Modifier", "ModifTache", new { id = item.IdTache }) 
            </td>
            <td>
                @Html.ActionLink("Supprimer", "SuppTache", new { id = item.IdTache }, new { onclick = "return confirm('Voulez-vous supprimer cette tâche?');"})
            </td>
        </tr>
    }

</table>